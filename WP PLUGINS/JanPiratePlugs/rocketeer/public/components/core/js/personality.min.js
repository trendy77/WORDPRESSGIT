!function(e,t){var n=e("#quizApp"),s=0,i=0,a=0,r="",o=personalityObj.animation,c=!1;n.show(),e(document).on("click",".btn-prev",function(e){e.preventDefault();var t=n.find(".question-ctr.active"),s=t.prev();if(!s.length)return null;if(o){if(c)return!1;c=!0,t.transition({animation:o,onComplete:function(){t.removeClass("active"),s.transition({animation:o,onComplete:function(){s.addClass("active"),c=!1}})}})}else t.removeClass("active"),s.addClass("active")}),e(document).on("click",".btn-next",function(e){e.preventDefault();var t=n.find(".question-ctr.active"),s=t.next();if(!s.length)return null;if(o){if(c)return!1;c=!0,t.transition({animation:o,onComplete:function(){t.removeClass("active"),s.transition({animation:o,onComplete:function(){s.addClass("active"),c=!1}})}})}else t.removeClass("active"),s.addClass("active")}),e(".single-answer-ctr:not(.answer-selected)").hover(function(){e(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check")},function(){e(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")}),e(document).on("click",".single-answer-ctr",function(t){t.preventDefault();var o=e(this).closest(".question-ctr");if(o.find(".single-answer-ctr").removeClass("answer-selected"),o.find(".single-answer-ctr .fa").removeClass("fa-check").addClass("fa-circle-thin"),e(this).addClass("answer-selected"),e(this).find(".fa").removeClass("fa-circle-thin").addClass("fa-check"),o.find(".single-answer-ctr").unbind("mouseenter mouseleave"),e(".single-answer-ctr:not(.answer-selected)").hover(function(){e(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check")},function(){e(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")}),o.find(".pers-answers-ctr").hasClass("question-unanswered")&&(s++,n.find(".progress-text span").text(s),n.find(".progressFinishedBar").animate({width:s/personalityObj.questions.length*100+"%"}),o.find(".pers-answers-ctr").removeClass("question-unanswered")),s!==personalityObj.questions.length)return 2==auto_scroll&&setTimeout(function(){1==personalityObj.style?e(".btn-next").click():e("html, body").animate({scrollTop:o.next().offset().top},500)},auto_scroll_timer),null;n[0].scrollIntoView();var c=0,l=0;n.find(".answer-selected").each(function(){i+=parseInt(e(this).data("points"))}),personalityObj.results.forEach(function(e,t,n){e.min<=i&&e.max>=i&&(l=t,a=t,r=i_got+" "+e.title)}),n.find(".resultScoreText").text(c),n.find(".questions-ctr").hide(),n.find("#result-"+l).show(),e("#modalQuizResultTxt").html(personalityObj.results[a].title),e("#modalQuizResultImg").attr("src",ajaxurl+"/public/uploads/"+personalityObj.results[a].main_img),e("#modalQuizResultDesc").html(personalityObj.results[a].desc),e("#resultModal").modal("show"),e.post(ajaxurl+"/process/user-media-award-points",{mid:mid,_token:point_token})}),e(document).on("click",".btn-retake-quiz",function(t){t.preventDefault(),s=0,i=0,n.find(".pers-answers-ctr").addClass("question-unanswered"),n.find(".single-answer-ctr").removeClass("answer-selected"),n.find(".single-answer-ctr .fa").removeClass("fa-check").addClass("fa-circle-thin"),n.find(".single-answer-ctr").unbind("mouseenter mouseleave"),n.find(".progress-text span").text("0"),n.find(".progressFinishedBar").animate({width:"0%"}),n.find(".result-ctr").hide(),n.find(".questions-ctr").show(),n.find(".question-ctr").removeClass("transition hidden visible active"),n.find(".question-ctr").removeAttr("style"),2==personalityObj.style?n.find(".question-ctr").addClass("active"):n.find(".question-ctr:first-child").addClass("active"),e(".single-answer-ctr:not(.answer-selected)").hover(function(){e(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check")},function(){e(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")})}),e(document).on("click",".btn-fb-share",function(e){e.preventDefault(),FB.ui({method:"share",href:location.href+"?r="+(a+1)},function(e){})}),e(document).on("click",".btn-twitter-share",function(e){e.preventDefault(),window.open("https://twitter.com/share?url="+encodeURI(location.href+"?r="+(a+1))+"&text="+encodeURI(r),"_blank","width=500, height=300")})}(jQuery,window);