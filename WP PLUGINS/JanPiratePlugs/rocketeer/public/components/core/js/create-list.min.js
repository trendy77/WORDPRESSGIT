!function(e,s){CKEDITOR.replace("inputPageContent");var t=new Vue({el:"#createListForm",data:{list_items:[],list_item_index:0,images:[],image_ids:[]},methods:{addItem:function(e){e.preventDefault(),this.list_items.push({title:"List Item",desc:null,media_type:1,images:[],embed_url:null,embed_code:null,quote:null,quote_src:null})},removeItem:function(e,s){return s.preventDefault(),confirm(are_you_sure_message)?void this.list_items.splice(e,1):null},updateItemIndex:function(e,s){s.preventDefault(),this.list_item_index=e}}}),i=new Dropzone("#imgDropzone",{url:ajaxurl+"/process/upload-media-img",previewsContainer:"#imgPreviewCtr",acceptedFiles:"image/*",paramName:"img",previewTemplate:'<div class="dz-preview dz-file-preview"><div class="dz-details"><div class="dz-filename"><span data-dz-name></span></div><div class="progress"><div class="progress-bar progress-bar-info progress-bar-striped active" data-dz-uploadprogress></div></div></div>'});i.on("sending",function(s,t,i){i.append("_token",e("input[name=_token]").val())}),i.on("error",function(e,s,t){console.log(s,t),toastr.error(img_upload_error_message)}),i.on("success",function(s,i){return e(s.previewElement).remove(),1==i.status?void toastr.error(img_upload_error_message):(t.images.push({id:i.img.id,name:i.img.name}),t.image_ids.push(i.img.id),void toastr.success(file_upload_success,simple_success_message))}),e(document).on("submit","#createListForm",function(s){s.preventDefault(),e("#alertStatus").html('<div class="alert alert-info">'+processing_message+"</div>");var i={_token:e("input[name=_token]").val(),title:e("#inputTitle").val(),desc:e("#inputDesc").val(),cid:e("#inputCid").val(),nsfw:e("#inputNSFW").val(),thumbnail:e("#inputThumbnail").val(),list_style:e("#inputListStyle").val(),animation:e("#inputAnimation").val(),list_items:t.$get("list_items"),page_content:CKEDITOR.instances.inputPageContent.getData(),image_ids:t.$get("image_ids")};e(this).slideUp("fast",function(){e.post("",i).always(function(s){console.log(s),2==s.status?2==s.is_approved?(e("#alertStatus").html('<div class="alert alert-success">'+success_message+"</div>"),location.href=s.url):e("#alertStatus").html('<div class="alert alert-success">'+pending_success_message+"</div>"):(e("#createListForm").slideDown("fast"),e("#alertStatus").html('<div class="alert alert-danger">'+unable_submission+" <ul></ul></div>"),s.errors.forEach(function(s,t,i){e("#alertStatus").find("ul").append("<li>"+s+"</li>")}))})})})}(jQuery,window);