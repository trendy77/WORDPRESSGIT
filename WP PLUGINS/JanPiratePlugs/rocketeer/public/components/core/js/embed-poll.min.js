!function(t,e){var n=t("#pollApp"),a=n.data("animation"),s=!1;t(document).on("click",".btn-prev",function(t){t.preventDefault();var e=n.find(".poll-question-ctr.active"),o=e.prev();if(!o.length)return null;if(a){if(s)return!1;s=!0,e.transition({animation:a,onComplete:function(){e.removeClass("active"),o.transition({animation:a,onComplete:function(){o.addClass("active"),s=!1}})}})}else e.removeClass("active"),o.addClass("active")}),t(document).on("click",".btn-next",function(t){t.preventDefault();var e=n.find(".poll-question-ctr.active"),o=e.next();if(!o.length)return null;if(a){if(s)return!1;s=!0,e.transition({animation:a,onComplete:function(){e.removeClass("active"),o.transition({animation:a,onComplete:function(){o.addClass("active"),s=!1}})}})}else e.removeClass("active"),o.addClass("active")}),t(".poll-question-ctr.poll-unanswered .poll-answer-ctr").hover(function(){t(this).find(".fa").removeClass("fa-circle-thin").addClass("fa-check")},function(){t(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")}),t(document).on("click",".poll-question-ctr.poll-unanswered .poll-answer-ctr",function(e){if(e.preventDefault(),2==signin_required&&1==user_signed_in)return null;var a=t(this).closest(".poll-question-ctr"),s=t(this).closest(".poll-ctr"),o=parseInt(n.find(".progress-text span").text()),l=n.data("question-count"),i=parseInt(t(this).data("total-votes"))+1,r=parseInt(a.data("total-votes"))+1;o++,t(this).addClass("poll-answer-selected"),t(this).find(".fa").addClass("fa-circle-thin").addClass("fa-check"),t(this).data("total-votes",i),a.addClass("poll-answered").removeClass("poll-unanswered"),a.find(".poll-answer-ctr").unbind("mouseenter mouseleave"),a.find(".poll-txt").text("You voted "+t(this).text()),a.find(".poll-answer-ctr").each(function(){t(this).append("<small><em>("+t(this).data("total-votes")+" votes)</em></small>"),t(this).append('<span class="pull-right">'+Math.round(parseInt(t(this).data("total-votes"))/r*100)+"%</span>"),t(this).find(".fa").remove()});var c={_token:poll_token,question_key:s.find(".poll-question-ctr").index(a),answer_key:a.find(".poll-answer-ctr").index(this)};t.post(poll_vote_url,c).always(function(t){console.log(t)}),n.find(".progress-text span").text(o),n.find(".progressFinishedBar").animate({width:o/l*100+"%"}),2==auto_scroll&&setTimeout(function(){1==poll_style?t(".btn-next").click():t("html, body").animate({scrollTop:a.next().offset().top},500)},auto_scroll_timer)})}(jQuery,window);