!function(t,e){function i(){var e=parseInt(r/triviaObj.questions.length*100),i=0;triviaObj.results.forEach(function(t,e,n){t.min<=r&&t.max>=r&&(i=e,c=e,o=i_got+" "+t.title)}),n.find(".resultScoreText").text(e),n.find(".questions-ctr").hide(),n.find(".quiz-timer-ctr").hide(),n.find("#result-"+i).show(),clearInterval(a),t("#modalQuizResultTxt").text(triviaObj.results[c].title),t("#modalQuizResultImg").attr("src",ajaxurl+"/public/uploads/"+triviaObj.results[c].main_img),t("#modalQuizResultDesc").text(triviaObj.results[c].desc),t("#resultModal").modal("show")}var n=t("#quizApp"),s=0,r=0,a=null,c=0,o="",d=triviaObj.animation,l=!1;t(document).on("click",".btn-prev",function(t){t.preventDefault();var e=n.find(".question-ctr.active"),i=e.prev();if(!i.length)return null;if(d){if(l)return!1;l=!0,e.transition({animation:d,onComplete:function(){e.removeClass("active"),i.transition({animation:d,onComplete:function(){i.addClass("active"),l=!1}})}})}else e.removeClass("active"),i.addClass("active")}),t(document).on("click",".btn-next",function(t){t.preventDefault();var e=n.find(".question-ctr.active"),i=e.next();if(!i.length)return null;if(d){if(l)return!1;l=!0,e.transition({animation:d,onComplete:function(){e.removeClass("active"),i.transition({animation:d,onComplete:function(){i.addClass("active"),l=!1}})}})}else e.removeClass("active"),i.addClass("active")}),t(document).on("click",".btn-start-quiz",function(t){t.preventDefault(),n.find(".timeStartCtr").hide(),n.find(".quiz-main-questions-ctr").show(),n.find(".quiz-timer-ctr").show(),a=setInterval(function(){var t=parseInt(n.find(".quiz-timer-ctr").text());t--,0==t?i():n.find(".quiz-timer-ctr").text(t)},1e3)}),t(".answers-ctr.question-unanswered .single-answer-ctr").hover(function(){t(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check")},function(){t(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")}),t(document).on("click",".answers-ctr.question-unanswered .single-answer-ctr",function(e){e.preventDefault();var a=t(this).closest(".question-ctr"),c=parseInt(t(this).data("is-correct"));r=2==c?r+1:r,a.find(".answers-ctr").removeClass("question-unanswered"),a.find(".single-answer-ctr").unbind("mouseenter mouseleave"),2==c?(t(this).addClass("correct"),t(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check"),a.find(".question-txt").text("Correct!"),a.find(".question-txt").addClass("correct")):(t(this).addClass("incorrect"),t(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-remove"),a.find(".question-txt").text("Incorrect!"),a.find(".question-txt").addClass("incorrect"),2==triviaObj.show_correct_answer&&a.find(".single-answer-ctr").each(function(){return 2==parseInt(t(this).data("is-correct"))?(t(this).addClass("correct"),a.find(".question-txt").append(" "+the_correct_answer_is+" "+t(this).text()),null):void 0})),s++,n.find(".progress-text span").text(s),n.find(".progressFinishedBar").animate({width:s/triviaObj.questions.length*100+"%"});var o=a.find(".explanation-ctr");return o.text().length>0&&o.slideDown(),s!==triviaObj.questions.length?(2==auto_scroll&&setTimeout(function(){1==triviaObj.style?t(".btn-next").click():t("html, body").animate({scrollTop:a.next().offset().top},500)},auto_scroll_timer),null):void i()}),t(document).on("click",".btn-retake-quiz",function(e){e.preventDefault(),s=0,r=0,n.find(".answers-ctr").addClass("question-unanswered"),n.find(".single-answer-ctr").removeClass("correct incorrect"),n.find(".single-answer-ctr .fa").removeClass("fa-check fa-remove").addClass("fa-circle-thin"),t(".question-ctr").each(function(){t(this).removeClass("active"),t(this).find(".question-txt").removeClass("correct incorrect"),t(this).find(".question-txt").text(t(this).find(".question-txt").data("question")),t(this).find(".explanation-ctr").hide()}),n.find(".progress-text span").text("0"),n.find(".progressFinishedBar").animate({width:"0%"}),n.find(".result-ctr").hide(),n.find(".questions-ctr").show(),n.find(".question-ctr").removeClass("transition hidden visible active"),n.find(".question-ctr").removeAttr("style"),n.find(".question-ctr:first-child").addClass("active"),2==triviaObj.is_timed&&(n.find(".timeStartCtr").show(),n.find(".quiz-main-questions-ctr").hide(),n.find(".quiz-timer-ctr").hide(),n.find(".quiz-timer-ctr").text(triviaObj.timer)),t(".answers-ctr.question-unanswered .single-answer-ctr").hover(function(){t(this).find(".fa").removeClass("fa-circle-thin fa-check").addClass("fa-check")},function(){t(this).find(".fa").removeClass("fa-check").addClass("fa-circle-thin")})}),t(document).on("click",".btn-fb-share",function(t){t.preventDefault(),FB.ui({method:"share",href:location.href+"?r="+(c+1)},function(t){})}),t(document).on("click",".btn-twitter-share",function(t){t.preventDefault(),window.open("https://twitter.com/share?url="+encodeURI(location.href+"?r="+(c+1))+"&text="+encodeURI(o),"_blank","width=500, height=300")}),n.show()}(jQuery,window);